{"version":3,"sources":["scripts/main.js"],"names":["previousRow","previousClick","thead","document","querySelector","tbody","body","toNumber","num","slice","split","join","descSort","el","rows","querySelectorAll","place","target","parentNode","children","indexOf","sortCol","sort","a","b","innerHTML","tr","append","ascSort","addEventListener","row","classList","add","remove","insertAdjacentHTML","form","formName","elements","formAge","pushNotification","posTop","posRight","title","description","type","messange","style","right","top","setTimeout","removeChild","ev","preventDefault","valuesArry","input","push","value","parseInt","toLocaleString","pop","newEmployee","createElement","emp","cell","textContent","length","reset","click","clickPlace","prevText","className","cellIndex","select","focus","onblur","innerText","isNaN","enter","code","blur"],"mappings":"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","file":"main.2fe28fdd.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst thead = document.querySelector('thead');\nconst tbody = document.querySelector('tbody');\nconst body = document.querySelector('body');\n\nlet previousRow;\nlet previousClick;\n\nfunction toNumber(num) {\n  return num.slice(1).split(',').join('.');\n}\n\nfunction descSort(el) {\n  const rows = tbody.querySelectorAll('tr');\n\n  const header = el.target.parentNode;\n  const place = [...header.children].indexOf(el.target);\n  let sortCol = [...rows]\n    .sort((a, b) => a.children[place]\n      .innerHTML > b.children[place].innerHTML ? -1 : 1);\n\n  if (place === 4) {\n    sortCol = [...rows]\n      .sort((a, b) => toNumber(b.children[place]\n        .innerHTML) - toNumber(a.children[place].innerHTML));\n  }\n\n  tbody.innerHTML = '';\n\n  for (const tr of sortCol) {\n    tbody.append(tr);\n  }\n\n  previousClick = '';\n}\n\nfunction ascSort(el) {\n  const rows = tbody.querySelectorAll('tr');\n\n  const header = el.target.parentNode;\n  const place = [...header.children].indexOf(el.target);\n  let sortCol = [...rows]\n    .sort((a, b) => a.children[place]\n      .innerHTML > b.children[place].innerHTML ? 1 : -1);\n\n  if (place === 4) {\n    sortCol = [...rows]\n      .sort((a, b) => toNumber(a.children[place]\n        .innerHTML) - toNumber(b.children[place].innerHTML));\n  }\n\n  tbody.innerHTML = '';\n\n  for (const tr of sortCol) {\n    tbody.append(tr);\n  }\n\n  previousClick = el.target;\n}\n\nthead.addEventListener('click', el => {\n  if (previousClick !== el.target) {\n    ascSort(el);\n  } else {\n    descSort(el);\n  }\n});\n\ntbody.addEventListener('click', el => {\n  const row = el.target.parentNode;\n\n  if (row !== previousRow) {\n    row.classList.add('active');\n\n    if (previousRow) {\n      previousRow.classList.remove('active');\n    }\n  };\n\n  previousRow = row;\n});\n\nbody.insertAdjacentHTML('beforeend', `\n  <form class='new-employee-form'>\n    <label>Name:\n      <input name=\"name\" type=\"text\" data-qa=\"name\" >\n    </label>\n\n    <label>Position:\n      <input name=\"position\" type=\"text\" data-qa=\"position\" >\n    </label>\n\n    <label>Office:\n      <select name=\"office\" data-qa=\"office\" >\n        <option>Tokyo</option>\n        <option>Singapore</option>\n        <option>London</option>\n        <option>New York</option>\n        <option>Edinburgh</option>\n        <option>San Francisco</option>\n      </select>\n    </label>\n\n    <label>Age:\n      <input name=\"age\" type=\"number\" data-qa=\"age\" >\n    </label>\n\n    <label>Salary:\n      <input name=\"salary\" type=\"number\" data-qa=\"salary\" >\n    </label>\n\n    <button type='submit'>Save to table\n    </button>\n  </form>\n`);\n\nconst form = document.querySelector('form');\n\nconst formName = form.elements[0];\nconst formAge = form.elements[3];\n\nform.addEventListener('submit', ev => {\n  ev.preventDefault();\n\n  const valuesArry = [];\n\n  for (const input of form) {\n    valuesArry.push(input.value);\n  };\n  valuesArry[4] = '$' + parseInt(valuesArry[4]).toLocaleString('en-US');\n\n  valuesArry.pop();\n\n  const newEmployee = document.createElement('tr');\n\n  for (const emp of valuesArry) {\n    const cell = document.createElement('td');\n\n    cell.textContent = emp;\n    newEmployee.append(cell);\n  }\n\n  if (formName.value.length < 4) {\n    pushNotification(10, 10, 'Error',\n      'Name mnust contain more then 4 chr', 'error');\n\n    return;\n  }\n\n  if (formAge.value < 18 || formAge.value > 90) {\n    pushNotification(10, 10, 'Error',\n      'Age must be between 18 and 90', 'error');\n\n    return;\n  }\n\n  if (formAge.value < 18 || formAge.value > 90) {\n    pushNotification(10, 10, 'Error',\n      'Age must be between 18 and 90', 'error');\n\n    return;\n  }\n\n  tbody.append(newEmployee);\n\n  pushNotification(10, 10, 'Success ',\n    'New employee successfully added', 'success ');\n  form.reset();\n});\n\nfunction pushNotification(posTop, posRight, title, description, type) {\n  body.insertAdjacentHTML('beforeend', `\n    <div class=\"notification ${type}\" data-qa=\"notification\">\n      <h2 class=\"title\">${title}</h2>\n      <p>${description}</p>\n  </div>\n  `);\n\n  const messange = document.querySelector('.notification');\n\n  messange.style.right = `${posRight}px`;\n  messange.style.top = `${posTop}px`;\n\n  setTimeout(() => {\n    body.removeChild(document.querySelector('.notification'));\n  }, 3000);\n}\n\nfor (const cell of document.querySelectorAll('td')) {\n  cell.addEventListener('dblclick', (click) => {\n    click.preventDefault();\n\n    const clickPlace = click.target;\n    const prevText = clickPlace.textContent;\n\n    let input = document.createElement('input');\n\n    input.className = 'cell-input';\n\n    clickPlace.textContent = '';\n    input.value = prevText;\n\n    if (clickPlace.cellIndex === 2) {\n      const select = document.createElement('select');\n\n      select.insertAdjacentHTML('beforeend', `\n        <option>Tokyo</option>\n        <option>Singapore</option>\n        <option>London</option>\n        <option>New York</option>\n        <option>Edinburgh</option>\n        <option>San Francisco</option>\n      `);\n\n      input = select;\n    };\n\n    clickPlace.append(input);\n    input.focus();\n\n    input.onblur = function() {\n      if (clickPlace.cellIndex === 0 && input.value.length < 4) {\n        clickPlace.innerText = prevText;\n\n        pushNotification(10, 10, 'Error',\n          'Name mnust contain more then 4 chr', 'error');\n\n        return;\n      }\n\n      if (clickPlace.cellIndex === 3) {\n        if (isNaN(input.value)) {\n          clickPlace.innerText = prevText;\n\n          pushNotification(10, 10, 'Error',\n            'Age must be a number', 'error');\n\n          return;\n        };\n\n        if (input.value < 18 || input.value > 90) {\n          clickPlace.innerText = prevText;\n\n          pushNotification(10, 10, 'Error',\n            'Age must be between 18 and 90', 'error');\n\n          return;\n        };\n      };\n\n      if (clickPlace.cellIndex === 4) {\n        if (!isNaN(input.value)) {\n          clickPlace.innerText = '$' + parseInt(input.value)\n            .toLocaleString('en-US');\n\n          return;\n        } else {\n          pushNotification(10, 10, 'Error',\n            'Please, enter only numbers without symbols', 'error');\n          clickPlace.innerText = prevText;\n\n          return;\n        }\n      }\n\n      if (input.value.length === '') {\n        clickPlace.innerText = prevText;\n      }\n\n      clickPlace.innerText = input.value;\n      input.remove();\n    };\n\n    input.addEventListener('keydown', enter => {\n      if (enter.code === 'Enter') {\n        input.blur();\n      };\n    });\n  });\n};\n"]}